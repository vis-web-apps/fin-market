<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"><title>Финансовый супермаркет</title></head>

    <body class="container-fluid" style="width: 80%; margin-bottom: 100px">

        <nav th:replace="fragments :: navigation"></nav>

        <div class="form-row mb-2">
            <form class="container mt-0 mb-0 col-md-6 ml-auto mr-auto" th:action="@{/rates}" method="get">
                <div class="form-row ">
                    <div class="form-group col-md-4">
                        <input type="text" class="form-control" id="query" name="query" placeholder="Поиск..." th:value="${query == null ? '' : query}">
                    </div>
                    <div class="form-group col-md-2">
                        <button type="submit" class="btn main-color text-white">Найти</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="form-row mb-4" th:each="rate : ${rates}">
                    <div class="card col-small-12 col-md-6 ml-auto mr-auto" style="padding: 0 0">
                        <div class="card-header main-color text-white" th:text="${rate.getKey()}"></div>
                        <div class="row mb-2">
                            <p class="text-color-custom col-xs-6 col-md-6"></p>
                            <p class="text-color-custom text-center col-xs-3 col-md-3 h6"><i>Покупка</i></p>
                            <p class="text-color-custom text-center col-xs-3 col-md-3 h6"><i>Продажа</i></p>
                        </div>
                        <div class="card-body p-0" th:each="elem : ${rate.getValue()}">
                            <div class="row">
                                <p class="card-text text-center col-xs-6 col-md-6" th:text="${elem.currencyName}"></p>
                                <p class="card-text text-center col-xs-3 col-md-3" th:text="${elem.buySum}"></p>
                                <p class="card-text text-center col-xs-3 col-md-3" th:text="${elem.saleSum}"></p>
                            </div>
                        </div>
                    </div>

    <!--        <table id="rates" class="table table-bordered col-md-8 ml-auto mr-auto">-->
    <!--            <thead class="main-color text-white">-->
    <!--                <tr>-->
    <!--                    <th class="text-center" style="width: 40%">Банк</th>-->
    <!--                    <th class="text-center" style="width: 20%">Валюта</th>-->
    <!--                    <th class="text-center" style="width: 20%">Покупка</th>-->
    <!--                    <th class="text-center" style="width: 20%">Продажа</th>-->
    <!--                </tr>-->
    <!--            </thead>-->
    <!--            <tbody th:each="rate : ${rates}">-->
    <!--                <tr>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.bankName}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.currencyName}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.buySum}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.saleSum}"></th>-->
    <!--                </tr>-->
    <!--            </tbody>-->
    <!--        </table>-->
        </div>
        <div th:replace="fragments :: scripts"></div>

    </body>

    <footer th:replace="fragments :: footer"></footer>
</html>