<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"><title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç</title></head>

    <body class="container-fluid" style="width: 80%; margin-bottom: 100px">

        <nav th:replace="fragments :: navigation"></nav>

        <h3 class="text-center text-color-custom mb-5 mt-5">–ü–æ–∫—É–ø–∫–∞ –≤–∞–ª—é—Ç—ã</h3>

        <div class="form-row mb-2">
            <form class="container mt-0 mb-0 col-md-6 ml-auto mr-auto" th:action="@{/rates}" method="get">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <input type="text" class="form-control" id="query" name="query" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞..." th:value="${query == null ? '' : query}">
                    </div>
                    <div class="form-group col-md-2">
                        <button type="submit" class="btn main-color text-white">–ù–∞–π—Ç–∏</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="form-row mb-4" th:each="rate : ${rates}">
                    <div class="card col-small-12 col-md-6 ml-auto mr-auto" style="padding: 0 0">
                        <div class="card-header main-color text-white pl-0 pb-0">
                            <p class="text-white text-center col-xs-5 col-md-5 pl-0" th:text="${rate.getKey()}"></p>
                        </div>
                        <div class="row mb-2 mt-2">
                            <p class="col-xs-5 col-md-5"></p>
                            <p class="text-color-custom text-center col-xs-3 col-md-3 h6"><i>–ü–æ–∫—É–ø–∫–∞</i></p>
                            <p class="text-color-custom text-center col-xs-3 col-md-3 h6"><i>–ü—Ä–æ–¥–∞–∂–∞</i></p>
                        </div>
                        <div class="card-body p-0" th:each="elem : ${rate.getValue()}">
                            <div class="row">
                                <p class="card-text text-center col-xs-5 col-md-5" th:text="${elem.currencyName}"></p>
                                <p class="card-text text-center col-xs-3 col-md-3" th:text="${elem.buySum}"></p>
                                <p class="card-text text-center col-xs-3 col-md-3" th:text="${elem.saleSum}"></p>
                                <div class="p-0 col-xs-1 col-md-1">
                                    <a class="pl-2 pt-0 text-white btn main-color" th:hidden="${#authentication.principal == 'anonymousUser'}" style="height: 70%; width: 60%">üñâ</a>
                                </div>
                            </div>
                        </div>
                    </div>

    <!--        <table id="rates" class="table table-bordered col-md-8 ml-auto mr-auto">-->
    <!--            <thead class="main-color text-white">-->
    <!--                <tr>-->
    <!--                    <th class="text-center" style="width: 40%">–ë–∞–Ω–∫</th>-->
    <!--                    <th class="text-center" style="width: 20%">–í–∞–ª—é—Ç–∞</th>-->
    <!--                    <th class="text-center" style="width: 20%">–ü–æ–∫—É–ø–∫–∞</th>-->
    <!--                    <th class="text-center" style="width: 20%">–ü—Ä–æ–¥–∞–∂–∞</th>-->
    <!--                </tr>-->
    <!--            </thead>-->
    <!--            <tbody th:each="rate : ${rates}">-->
    <!--                <tr>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.bankName}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.currencyName}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.buySum}"></th>-->
    <!--                    <th class="text-center pt-1 pb-1" th:text="${rate.saleSum}"></th>-->
    <!--                </tr>-->
    <!--            </tbody>-->
    <!--        </table>-->
        </div>
        <div th:replace="fragments :: scripts"></div>

    </body>

    <footer th:replace="fragments :: footer"></footer>
</html>